substitutions:
  name: "econet-hpwh"
  device_description: "Rheem Heat Pump Water Heater"
  tx_pin: GPIO19
  rx_pin: GPIO22

esphome:
  name: ${name}
  comment: ${device_description}

preferences:
  flash_write_interval: "24h"

esp32:
  board: esp32dev
  framework: 
    type: arduino

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

api:

ota:

logger:
  baud_rate: 0  # Disable UART logger if using UART0 (pins 1,3)
  level: INFO
  tx_buffer_size: 2000

external_components:
  - source: github://Daniel-dev22/esphome-econet
  # - source: components

uart:
  id: uart_0
  baud_rate: 38400
  rx_buffer_size: 1500
  tx_pin: 
    number: ${tx_pin}
  rx_pin:
    number: ${rx_pin}

econet:
  uart: uart_0
  model: "Heatpump"

climate:
  - platform: econet
    name: "Water Heater"

sensor:
  - platform: econet
    hot_water:
      name: "Hot Water"
    ambient_temp:
      name: "Ambient Temperature"
    lower_water_heater_temp:
      name: "Lower Tank Temperature"
    upper_water_heater_temp:
      name: "Upper Tank Temperature"
    power_watt:
      name: "Power"
    evap_temp:
      name: "Evaporator Temperature"
    suction_temp:
      name: "Suction Temperature"
    discharge_temp:
      name: "Discharge Temperature"
  - platform: wifi_signal
    name: "WiFi Signal Strength"
    update_interval: 30s

binary_sensor:
  - platform: econet
    enable_state:
      name: "Water Heater Enabled (Sensor)"
    heatctrl:
      name: "Heater Control"
    comp_rly:
      name: "Compressor Relay"

text_sensor:
  - platform: econet
    water_heater_fan_speed:
      name: "Water Heater Fan Speed"
    water_heater_heating_element_state:
      name: "Water Heater Heating Element State"
